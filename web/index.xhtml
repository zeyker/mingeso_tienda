<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:ui="http://java.sun.com/jsf/facelets">
 
  <body>
 
    <ui:composition template="/plantilla.xhtml">
        
        <ui:define name="paginatitulo">Publicar producto</ui:define>
       <ui:define name="paginacabecera">Publica un nuevo producto</ui:define> 
       <ui:define name="contenido">
           
           
           <f:view>
                <h:form>
                    
                    <div class="form-group row">
                        <h:outputLabel value="Nombre Producto" class="col-sm-2 col-form-label"/>
                        <div class="col-sm-10">
                            <h:inputText value="#{productoView.producto.nombre}" class="form-control"/>
                        </div>
                    </div>
                    
                    <div class="form-group row">
                        <h:outputLabel value="Descripcion" class="col-sm-2 col-form-label"/>
                        <div class="col-sm-10">
                            <h:inputText value="#{productoView.producto.descripcion}" class="form-control"/>
                        </div>
                    </div>
                    
                    <div class="form-group row">
                        <h:outputLabel value="Precio (CLP)" class="col-sm-2 col-form-label"/>
                        <div class="col-sm-10">
                            <h:inputText value="#{productoView.producto.precio}" class="form-control"/>
                        </div>
                    </div>
                    
                    <div class="form-group row">
                        <h:outputLabel value="Ciudad" class="col-sm-2 col-form-label"/>
                        <div class="col-sm-10">
                            <h:inputText value="#{productoView.producto.ciudad}" class="form-control"/>
                        </div>
                    </div>
                    
                    <div class="form-group row">
                        <h:outputLabel value="Nombre vendedor" class="col-sm-2 col-form-label"/>
                        <div class="col-sm-10">
                            <h:inputText value="#{productoView.producto.nombreVendedor}" class="form-control"/>
                        </div>
                    </div>
                    
                    <div class="form-group row">
                        <h:outputLabel value="Foto" class="col-sm-2 col-form-label"/>
                        <div class="col-sm-10">
                            <h:inputText value="#{productoView.producto.imagenUrl}" class="form-control"/>
                        </div>
                    </div>
                    
                    
                    
                    <div class="form-group row">
                        <h:outputLabel value="Numero telefono" class="col-sm-2 col-form-label"/>
                        <div class="col-sm-10">
                            <h:inputText value="#{productoView.producto.numeroTelefono}" class="form-control"/>
                        </div>
                    </div>
                    
                  
                    <h:commandButton action="#{productoView.postProducto()}" value="Publicar producto" class="btn btn-primary">
                        <f:ajax execute="@form"/>
                    </h:commandButton>           
                    
                </h:form>
            </f:view>           
           
           
           <hr/>
   
        <div class="container">           
            <h:panelGroup id="listaProductos">   
                <ui:repeat value="#{productoView.list()}" var="producto">              
                    
                    <div class = "col-sm-6 col-md-3">
                        <div class = "thumbnail">
                            <h:graphicImage url="#{producto.imagenUrl}" rendered="#{producto.imagenUrl.length() != 0}"/>
                            <h:graphicImage url="resources/images/desconocido.png" rendered="#{producto.imagenUrl.length() == 0}"/>

                        </div>      
                        <div class = "caption">
                           <h3>#{producto.nombre}</h3>
                           <p>#{producto.descripcion}</p>         
                           <p>
                              <a href = "#" class = "btn btn-primary" role = "button">
                                  <span class="glyphicon glyphicon-plus"></span>
                                 Comprar
                              </a>             
                           </p>         
                        </div>
                    </div>                         
                        
                </ui:repeat>               
            </h:panelGroup>
        </div>
                      
       </ui:define>
         
    </ui:composition>

  </body>
</html>




